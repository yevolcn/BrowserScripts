// ==UserScript==
// @name       Google Reader Readable+
// @namespace  http://joyma.me
// @version    0.1
// @description  a readable custom style for Google Reader, based on Google Reader Readable (http://stylebot.me/styles/738).
// @match      https://www.google.com/reader/view/*
// @match      http://www.google.com/reader/view/*
// @copyright  2012+, Yevolcn
// ==/UserScript==
function addGlobalStyle(css) {
    var head, style;
    head = document.getElementsByTagName('head')[0];
    if (!head) { return; }
    style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = css;
    head.appendChild(style);
}
addGlobalStyle('html{background-color:#efefef!important}a,a:visited,.link{color:#bd3632!important}*{font-family:"Helvetica Neue",Helvetica,Arial!important}div#main{background-color:#efefef!important}#logo-section,.entry-title-go-to,.entry-icons-placeholder,#top-bar{display:none!important}#gb{position:relative!important;left:-9999px!important;height:0!important}.gbqff{right:27px;top:27px}.chevron{display:none!important}.message-area-container{padding-top:15px!important}#quick-add-success{margin-left:5px!important;padding:10px 0 10px 20px!important}#entries{border-top:none!important;max-width:1100px!important}#viewer-header-container,#title-and-status-holder{margin-left:4px!important;border-bottom:none!important}#viewer-header{opacity:0!important;border-bottom:1px solid #ddd!important;background-color:#efefef!important;margin-right:36px!important;height:60px!important}#viewer-header:hover{opacity:1!important;-webkit-transition:all .05s ease-in-out;-moz-transition:all .05s ease-in-out;-o-transition:all .05s ease-in-out;-ms-transition:all .05s ease-in-out;transition:all .05s ease-in-out;z-index:100!important}.goog-flat-menu-button,.goog-button-base{font-weight:400!important;font-size:13px!important;color:#777!important}#chrome-title{font-size:21px!important;line-height:1.4!important}#viewer-single-parent{font-size:20px!important;line-height:2.1!important;margin-left:20px}#viewer-container{margin-top:-20px!important;background-color:transparent!important}#nav{opacity:0!important}#nav:hover{opacity:1!important;-webkit-transition:all .25s ease-in-out;-moz-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;-ms-transition:all .25s ease-in-out;transition:all .25s ease-in-out}.jfk-button{font-weight:400!important;font-size:13px!important}.jfk-button-primary{background-image:none!important;background-color:#d70000!important;text-transform:capitalize!important}.jfk-button-primary:hover{border-color:#none!important;box-shadow:2px 2px 2px #fff;}.scroll-tree li a .name-unread{font-weight:400!important;color:#777!important}#reading-list-selector .label .text,.scroll-tree li a .name{color:#333!important}#nav .link span.text,#sub-tree-header,#overview-selector{color:#777!important;border-left-color:transparent!important}#nav a,#nav a .text,#nav .link{color:#777!important}.scroll-tree li a .name-unread{font-weight:400!important}.lhn-section-secondary li a.tree-link-selected,a#recs-tree-item-0-link.lhn-section-primary.tree-link-selected{color:#D14836!important;border-left-color:transparent!important}.link.tree-link-selected a{color:#D14836!important;font-weight:700!important}.selected a span{color:#D14836!important}.scroll-tree li a.tree-link-selected .name{color:#D14836!important}#nav .selected .link span.text{color:#D14836!important}#lhn-subscriptions-minimize,#lhn-recommendations-minimize,#lhn-selectors-minimize{opacity:.4!important}#recent-activity .recent-stream-title,.tab-header{color:#bd3632!important}#overview-selector.selected{border-left:none!important}a.entry-title-link{font-weight:700!important;font-size:30px!important;color:#444!important;text-shadow:0 1px 1px #fff}.overview-header .title .sub-link,.overview-section h4 a{color:#444!important}h2.entry-title{padding-bottom:10px!important}.item-body *,.item-snippet,.search-result .entry-secondary-snippet *{line-height:1.5!important;font-size:18px!important;font-family:"Georgia"!important}.entry-comment,.entry-comment-content,.entry-comment-author{font-size:16px!important;font-family:"Georgia"!important}.card-content{padding:30px!important}#current-entry .card{border-left-color:transparent!important}.entry-container .entry-body a{color:#444!important}#overview-selector.selected a.link .text{padding-left:3px!important}#home-section,#lhn-selectors,#lhn-recommendations,#recs-tree-item-0-main,#recs-tree-item-1-main,#lhn-subscriptions,.scroll-tree li{background-color:transparent!important;font-size:13px!important}.lhn-section-secondary li a,a#recs-tree-item-0-link.lhn-section-primary,#reading-list-selector,#lhn-selectors .selector{border-left-color:transparent!important}.unread-count{font-size:95%!important}#overview-selector a.link .text{font-weight:700!important}.lhn-section-footer{font-size:13px!important}#lhn-recommendations .section-minimize{top:10px!important}.section-minimize{top:8px!important}.selectors-footer,.lhn-section-footer{border-bottom:1px solid #ddd!important}.section-minimized .selectors-footer{border-bottom:none!important}.card-common .card-actions{padding-left:15px!important;padding-bottom:15px!important;background-color:transparent!important;border-top:none!important}.entry .entry-actions a,.entry .entry-actions .link{color:#777!important}::-webkit-scrollbar-thumb{background-color:#ccc!important}.samedir #entries.list .collapsed .entry-main .entry-original{display:none!important}.samedir #entries.list .collapsed .entry-date{margin-right:.3em!important}.entry .entry-author,.entry .entry-date{color:#333!important;opacity:.3!important}.entry .entry-author,.entry .entry-date:hover{opacity:1!important}#entries.list .entry .collapsed{background-color:transparent!important;font-size:14px!important;line-height:1.7!important;padding-top:10px!important;padding-bottom:4px!important}#entries .entry,#entries.list .entry-container{background-color:transparent!important}#entries.list{padding:10px 0!important}#entries.list .collapsed{background-color:transparent!important;border-left:none!important}#entries.list .entry .entry-container{padding-top:30px!important;padding-left:30px!important}#entries.list #current-entry.expanded .entry-container{background-color:#fff!important;border-left-color:#ccc!important;border-right:1px solid #ccc!important;border-top:1px solid #ccc!important}#entries.list #current-entry .collapsed{border-left:1px solid transparent!important}#entries.list #current-entry.expanded .entry-actions{border-left-color:#ccc!important;padding:20px 0 15px 20px!important;border-right:1px solid #ccc!important}#entries.list .entry .entry-actions{background-color:#fff!important;border-top:none!important}.read .entry-container a.entry-source-title,.read .entry-container a.entry-post-author-name{color:#777!important}#trends .sorting .trends-sorting-homepage{display:none!important}#sections-header{border-bottom:none!important;margin-top:20px!important}.overview-section-header{font-weight:700!important;font-size:30px!important;color:#444!important;text-shadow:0 1px 1px #fff;margin-top:17px}#sections-holder{padding-left:20px!important;padding-top:10px!important}#overview .section-header{padding-bottom:10px!important;border-bottom-color:#ddd!important}.tab-header{background-color:transparent!important;border-color:transparent!important}.tab-header-selected{font-weight:400!important;border-color:#D14836!important}#trends .sorting-container .top-links{padding-top:15px!important}#directory-box h3{border-bottom:none!important}.fullscreen #viewer-container{padding-left:50px!important;padding-top:40px!important}#no-entries-msg{border-width:1px!important;-webkit-border-radius:0 0 0 0;-moz-border-radius:0}.card-common{border-width:1px!important;border-right-style:solid!important;opacity:.1!important;-webkit-transition:all .25s ease-in-out;-moz-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;-ms-transition:all .25s ease-in-out;transition:all .25s ease-in-out}.entry-0 .card-common{opacity:1!important;-webkit-transition:all .25s ease-in-out;-moz-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;-ms-transition:all .25s ease-in-out;transition:all .25s ease-in-out}#current-entry .card{border-color:#ccc!important;border-width:1px!important;background:#fff!important;opacity:1!important;-webkit-transition:all .25s ease-in-out;-moz-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;-ms-transition:all .25s ease-in-out;transition:all .25s ease-in-out}#chrome{min-width:833px!important}#chrome.page-view #viewer-page-container{background-color:transparent!important}#overview .overview-segment p{font-size:18px!important;line-height:1.4!important}#recent-activity .recent h4{margin-bottom:10px!important}#trends h2{margin-bottom:15px!important}#directory-box .tab-group-contents{border:1px solid #ddd!important}#quick-add-instructions{padding-bottom:10px!important;font-size:100%!important}#quickadd{line-height:1.6!important}#viewer-entries-container{margin-top:35px!important}#title-and-status-holder{position:fixed;z-index:99;top:35px;padding:0!important}#lhn-add-subscription-section{height:75px!important}.item-body img{max-width:94%;height:auto!important;border:1px solid #ccc!important;padding:10px;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);-moz-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);margin:30px 10px!important}.item-body img:hover{-webkit-box-shadow:0 0 7px rgba(0,0,0,0.3);-moz-box-shadow:0 0 7px rgba(0,0,0,0.3);box-shadow:0 0 7px rgba(0,0,0,0.3)}.item-body IMG[SRC*="http://feeds.feedburner.com/~"],.item-body IMG[SRC*=".feedsportal.com"],.item-body IMG[SRC*=".feedsky.com"],.item-body IMG[width="0"],.item-body IMG[SRC*="wumii.cn"],.item-body IMG[SRC*="blogger.googleusercontent.com/tracker"]{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:none!important;padding:0!important;margin:0!important}#settings #settings-navigation h3{background-color:transparent;border-color:transparent}#chrome.search-stream #entries.search .entry{background:#fff!important;border:1px solid #DDD;box-shadow:0 0 4px #E3E5EB;margin:5px 0 10px}#chrome.search-stream #chrome-view-links{background:transparent!important}.search-result{padding:30px!important}.entry .search-result .entry-title{line-height:normal!important}.entry .search-result .entry-title a{text-decoration:none!important}');
function addJQuery(callback) {
    var script = document.createElement("script");
    script.setAttribute("src", "//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js");
    script.addEventListener('load', function() {
        var script = document.createElement("script");
        script.textContent = "(" + callback.toString() + ")();";
        document.body.appendChild(script);
    }, false);
    document.body.appendChild(script);
}
function main() {
    jQuery.noConflict();
    jQuery('.gbqfif, .search-restrict')
        .focus(function(){ jQuery('.gbqff').css("position", "fixed") })
        .focusout(function(){ jQuery('.gbqff').css("position", "relative") })
}
addJQuery(main);